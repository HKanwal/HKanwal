<div id="log_in_modal" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4>Log In</h4>
			</div>
			<div class="modal-body">
				<form id="login-form" action="/login" method="get" data-toggle="validator" role="form">
					<div class="form-group">
						<label for="login_username">User Name:</label>
						<input type="text" class="form-control" id="username_login_box" placeholder="Enter Username" name="login_username" pattern="^[^$][a-zA-Z0-9_\-\.]+$" required>
					</div>
					<div class="form-group">
						<label for="login_password">Password:</label>
						<input type="password" class="form-control" id="password__login_box" placeholder="Enter Password" name="login_password" pattern="^[^$][a-zA-Z0-9_\-\.]+$" required>
					</div>
					<button type="submit" class="btn btn-primary">Log In</button>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>

<script>
$("#login-form").submit(function() {
	$.get($(this).attr("action"), $(this).serialize(), function(res) {
		// TODO: Make this prettier
		if(res === "DB search error") {
			alert("DB connection error. Please try again later.");
		} else if(res === "Incorect password" || res === "User not found") {
			alert(res);
		} else {
			location.reload();
		}
	});
	return false;
});
</script>